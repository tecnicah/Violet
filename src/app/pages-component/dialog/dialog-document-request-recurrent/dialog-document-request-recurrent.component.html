<!------------------------------------OPEN HEADER------------------------------------------>
<div fxLayout="row" fxLayoutGap="10px">
  <div fxFlex.gt-lg="100" fxFlex.gt-md="100" fxFlex.gt-xs="100" fxFlex="100">
    <h2 mat-dialog-title class="primary_title">Recurrence</h2>
  </div>
  <div fxFlex.gt-lg="10" fxFlex.gt-md="10" fxFlex.gt-xs="100" fxFlex="100" align="end">
    <mat-icon [mat-dialog-close]="true" style="cursor:pointer">close</mat-icon>
  </div>
</div>
<!----------------------------------OPEN CONTENT------------------------------------------>
<mat-dialog-content class="mat-typography">

  <mat-grid-list cols="2" rowHeight="70px">

    <mat-grid-tile [colspan]="2" [rowspan]="1">
      <div style="font-size: 14px; width: 100%;">
        Recurrence
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central textarea">
        <mat-form-field appearance="fill">
          <mat-label>Repeat every</mat-label>
          <mat-select [(ngModel)]="data_model.repeatEvery">
            <mat-option *ngFor="let item of repeat" [value]=item>{{item}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_final textarea">
        <mat-form-field appearance="fill">
          <mat-label>Period</mat-label>
          <mat-select [(ngModel)]="data_model.period" (ngModelChange)="putPeriodo()" [disabled]="val_month!=undefined">
            <mat-option *ngFor="let item of ca_duration"  [value]="item.id">{{item.recurrence}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central textarea">
        <mat-form-field appearance="fill">
          <mat-label>Start Date</mat-label>
          <input matInput [matDatepicker]="pickertres_" placeholder="Start Date" [(ngModel)]="data_model.startDate">
          <mat-datepicker-toggle matSuffix [for]="pickertres_"></mat-datepicker-toggle>
          <mat-datepicker #pickertres_></mat-datepicker>
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="2" [rowspan]="1" *ngIf = "data_model.period == 4">
      <div class="page__section-data font-size-12 comments input_central" style="width: 100%;">
        <div class="textarea">
          <span class="text-mini gray_05">Repeat the</span><br />
        </div>

        <div style="display: flex; width: 100%;">
         <div  *ngFor="let item of ca_day" style="width: 100%;">
          <div class="circle browser" (click)="repeat_day(item)" [ngClass]="{'active': data_model.repeatThe === item.day}">
            {{item.day | slice:0:1}}
          </div>
        </div>
       </div>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="2" [rowspan]="1">
      <div class="page__title title">
        Ends
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="textarea input_central">
        <mat-checkbox class="example-margin" [(ngModel)]="data_model.never" [checked]="data_model.never">
          <span class="subtitle" style="font-size: 12px; margin: 0px;">Never</span>
        </mat-checkbox>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1"></mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="page__section-data font-size-12 comments input_central" style="display: flex;">
        <div>
          <mat-checkbox class="example-margin" [(ngModel)]="data_model.date" [checked]="data_model.date">
            <span class="subtitle" style="font-size: 12px; margin: 0px;">Date</span>
          </mat-checkbox>
        </div>
      </div>
    </mat-grid-tile>


    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="page__section-data font-size-12 comments textarea input_final" style="display: flex;">
        <mat-form-field appearance="fill">
          <mat-label>End Date</mat-label>
          <input matInput [matDatepicker]="pickertres" placeholder="End Date" [(ngModel)]="data_model.endDate">
          <mat-datepicker-toggle matSuffix [for]="pickertres"></mat-datepicker-toggle>
          <mat-datepicker #pickertres></mat-datepicker>
        </mat-form-field>
      </div>
    </mat-grid-tile>

  </mat-grid-list>

</mat-dialog-content>

<mat-dialog-actions align="end">
  <div class="page__section-buttong">
    <button (click)="save()">Save</button>
  </div>
</mat-dialog-actions>
