<div fxLayout="row" fxLayoutGap="10px">
    <div fxFlex.gt-lg="100" fxFlex.gt-md="100" fxFlex.gt-xs="100" fxFlex="100" style="float:left;">
        <h2 mat-dialog-title class="primary_title" style="float:left;"> Contract Details
          
            <span style="font-size: medium; color: darkmagenta; font-style: normal; font-weight: normal;">
               - Lease Summary
            </span>  
        </h2>
        
    </div>
    <div fxFlex.gt-lg="10" fxFlex.gt-md="10" fxFlex.gt-xs="100" fxFlex="100" align="end">
        <mat-icon [mat-dialog-close]="true" style="cursor:pointer">close</mat-icon>
    </div>
</div>

<mat-dialog-content class="mat-typography">
    

        <div class="" style="padding: 10px; margin-top: 20px; margin-bottom: 20px;">
            <!-- <mat-grid-list cols="4" rowHeight="70px">
                <mat-grid-tile [colspan]="4" [rowspan]="1">
                    <div style="display:flex; justify-content: space-between; width: 100%;">
                        <div>
                            <p class="page__section-name">Contract Details </p>
                        </div>
                    </div>
                </mat-grid-tile>
            </mat-grid-list> -->
        
            <div >
                <div class="" style="padding: 10px; margin-top: 20px; margin-bottom: 20px;">
                    <mat-grid-list cols="5" rowHeight="70px">
        
                        <mat-grid-tile [colspan]="1" [rowspan]="1">
                            <div class="input_central textarea">
                                <mat-form-field appearance="fill">
                                    <mat-label>Lease Start Date</mat-label>
                                    <input matInput [matDatepicker]="picker" placeholder="Lease Start Date"
                                        [(ngModel)]="data_contracts.leaseStartDate">
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                </mat-form-field>
                            </div>
                        </mat-grid-tile>
        
                        <mat-grid-tile [colspan]="1" [rowspan]="1">
                            <div class="input_central textarea">
                                <mat-form-field appearance="fill">
                                    <mat-label>Lease End Date</mat-label>
                                    <input matInput [matDatepicker]="picker_" placeholder="Lease End Date"
                                        [(ngModel)]="data_contracts.leaseEndDate">
                                    <mat-datepicker-toggle matSuffix [for]="picker_"></mat-datepicker-toggle>
                                    <mat-datepicker #picker_></mat-datepicker>
                                </mat-form-field>
                            </div>
                        </mat-grid-tile>
                        <mat-grid-tile [colspan]="1" [rowspan]="1">
                            <div class="input_central textarea">
                                <mat-form-field appearance="fill">
                                    <mat-label>Payments Due</mat-label>
                                    <!-- <input matInput placeholder="Payments Due" [(ngModel)]='data_contracts.paymentsDue' maxlength="50"> -->
                                    <mat-select [(ngModel)]='data_contracts.paymentsDue'>
                                        <mat-option *ngFor="let data of payments_due" [value]="data.id">{{data.id}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </mat-grid-tile>
                        <mat-grid-tile [colspan]="1" [rowspan]="1">
                            <mat-form-field appearance="fill" class="input_central textarea">
                                <mat-label>Recurrence</mat-label>
                                <!-- <input matInput placeholder="Recurrence" [(ngModel)]="data_contracts.recurrence"> -->
                                <mat-select [(ngModel)]="data_contracts.recurrence">
                                    <mat-option *ngFor="let data of recurrence_static"
                                        [value]="data.id">{{data.id}}</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </mat-grid-tile>
                        <mat-grid-tile [colspan]="1" [rowspan]="1">
                            <div class="input_central textarea">
                                <mat-form-field appearance="fill">
                                    <mat-label>Currency</mat-label>
                                    <mat-select [(ngModel)]="data_contracts.currency">
                                        <mat-option *ngFor="let data of ca_currency"
                                            [value]="data.id">{{data.currency}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </mat-grid-tile>
                        <mat-grid-tile [colspan]="1" [rowspan]="1">
                            <div class="input_central textarea">
                                <mat-form-field appearance="fill">
                                    <mat-label>Previous Rent</mat-label>
                                    <span matPrefix>$ &nbsp;</span>
                                    <input matInput placeholder="List Rent Price" type="number"
                                        [(ngModel)]="data_contracts.listRentPrice" (change)="calc_RentCostSavings();">
                                </mat-form-field>
                            </div>
                        </mat-grid-tile>
                        <mat-grid-tile [colspan]="1" [rowspan]="1">
                            <div class="input_central textarea">
                                <mat-form-field appearance="fill">
                                    <mat-label>New Rent Price</mat-label>
                                    <span matPrefix>$ &nbsp;</span>
                                    <input matInput placeholder="Final Rent Price" type="number"
                                        (change)="calc_RentCostSavings();" [(ngModel)]="data_contracts.finalRentPrice">
                                </mat-form-field>
                            </div>
                        </mat-grid-tile>
                        <mat-grid-tile [colspan]="1" [rowspan]="1">
                            <div class="input_central textarea" *ngIf="data_contracts.finalRentPrice > 0">
                                <mat-form-field appearance="fill">
                                    <mat-label>Rent Cost Savings</mat-label>
                                    <span matPrefix>$ &nbsp;</span>
                                    <input disabled matInput placeholder="Final Rent Price" type="number"
                                        [(ngModel)]="data_contracts.rentcostsaving">
                                </mat-form-field>
                            </div>
                        </mat-grid-tile>
                        <mat-grid-tile [colspan]="1" [rowspan]="1">
                            <div class="input_central textarea">
                                <mat-form-field appearance="fill">
                                    <mat-label>Lease Signatories</mat-label>
                                    <mat-select [(ngModel)]="data_contracts.leasesignatories">
                                        <mat-option *ngFor="let data of ca_lease_signa"
                                            [value]="data.id">{{data.value}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </mat-grid-tile>
        
                        <mat-grid-tile [colspan]="4" [rowspan]="1"
                            *ngIf="data_contracts.leasesignatories == 2 || data_contracts.leasesignatories == 3">
                            <div style="width: 100%;">
                                <div>
                                    <p class="page__section-name" style="font-size: 12px;">Client Lease Signator Info</p>
                                </div>
                            </div>
                        </mat-grid-tile>
        
                        
        
        
                        <mat-grid-tile [colspan]="2" [rowspan]="1"
                            *ngIf="data_contracts.leasesignatories == 2 || data_contracts.leasesignatories == 3">
                            <div class="input_final textarea">
                                <mat-form-field appearance="fill">
                                    <mat-label>Name</mat-label>
                                    <input matInput placeholder="Name" [(ngModel)]="data_contracts.namesinatore">
                                </mat-form-field>
                            </div>
                        </mat-grid-tile>
                        <mat-grid-tile [colspan]="2" [rowspan]="1"
                            *ngIf="data_contracts.leasesignatories == 2 || data_contracts.leasesignatories == 3">
                            <div class="input_final textarea">
                                <mat-form-field appearance="fill">
                                    <mat-label>Email</mat-label>
                                    <input matInput placeholder="Email" [(ngModel)]="data_contracts.emailsinatore">
                                </mat-form-field>
                            </div>
                        </mat-grid-tile>
                        <mat-grid-tile [colspan]="1" [rowspan]="1"
                            *ngIf="data_contracts.leasesignatories == 2 || data_contracts.leasesignatories == 3">
                            <div class="input_final textarea">
                                <mat-form-field appearance="fill">
                                    <mat-label>Telephone</mat-label>
                                    <input matInput placeholder="Telephone" [(ngModel)]="data_contracts.telsinatore">
                                </mat-form-field>
                            </div>
                        </mat-grid-tile>
        
                        <mat-grid-tile [colspan]="4" [rowspan]="1">
                            <div style="width: 100%;">
                                <div>
                                    <p class="page__section-name" style="font-size: 14px;">Property Expenses</p>
                                </div>
                            </div>
                        </mat-grid-tile>
                    </mat-grid-list>
                    <!----------------------------------------------------------------------------------------->
                    <!--START TABLE PROPERTY EXPENSES-->
                    <table  id="expenses">
                        <tr class="mat-header-row">
                            <th class="mat-header-cell" style="cursor: pointer;" (click)="sortTable('expenses',0);">Expense <img
                                    src="../../../../assets/icons/arrow-227-xxl.png" style="width: 14px;"></th>
                            <th class="mat-header-cell" style="cursor: pointer;" (click)="sortTable('expenses',1);">Amount <img
                                    src="../../../../assets/icons/arrow-227-xxl.png" style="width: 14px;"></th>
                            <th class="mat-header-cell" style="cursor: pointer;" (click)="sortTable('expenses',2);">Currency
                                <img src="../../../../assets/icons/arrow-227-xxl.png" style="width: 14px;"></th>
                            <th class="mat-header-cell" style="cursor: pointer;" (click)="sortTable('expenses',3);">Recurrence
                                <img src="../../../../assets/icons/arrow-227-xxl.png" style="width: 14px;"></th>
                            <th class="mat-header-cell" style="cursor: pointer;" (click)="sortTable('expenses',4);">Included
                                <img src="../../../../assets/icons/arrow-227-xxl.png" style="width: 14px;"></th>
                            <th class="mat-header-cell"></th>
                        </tr>
                        <tr class="mat-row" *ngFor="let property of data_contracts.propertyExpenses; let i = index">
                            <td class="mat-cell">{{property.expense}}</td>
                            <td class="mat-cell">{{property.amount | currency}}</td>
                            <td class="mat-cell">{{getCurrency(property.currency)}}</td>
                            <td class="mat-cell">{{property.recurrence}}</td>
                            <td class="mat-cell">
                                <div *ngIf='property.included'>Yes</div>
                                <div *ngIf='!property.included'>No</div>
                            </td>
                            <td class="mat-cell">
                                <img src="assets\icons\pencil.png" style="width: 20px;" (click)="editExpense(property, i)">
                                &nbsp;&nbsp;
                                <img *ngIf="data.edicion" src="assets/icons/delete.png" style="width: 20px;" (click)="deleteExpense(property)">
                            </td>
                        </tr>
                    </table>
        
                    <!--CLOSE TABLE PROPERTY EXPENSES-->
                    <!----------------------------------------------------------------------------------------->
                    <mat-grid-list cols="4" rowHeight="70px">
                        <mat-grid-tile [colspan]="4" [rowspan]="1">
                            <div class="addPropperty" *ngIf="data.edicion">
                                <div class="page__section-button page__section-button--big" style="">
                                    <button class="button-icon button-icon--more" (click)="addExpense();">
                                        Add Expense
                                    </button>
                                </div>
                            </div>
                        </mat-grid-tile>
        
                        <!-- <mat-grid-tile [colspan]="4" [rowspan]="1">
                            <div class="page__section-buttong"
                                style="display: flex; justify-content: flex-end; flex: 0px !important;">
                                <button class="button-icon" style="background-color: #9d3292; color: white; width: 200px;"
                                    (click)="save_BD();">
                                    Save Contract D.
                                </button>
                            </div>
                        </mat-grid-tile> -->
        
                    </mat-grid-list>
                </div>
                <!---------------------------------- PINTAR CONTRACTS PASADOS ----------------------------->
            </div>
        </div>
  
</mat-dialog-content>

<mat-dialog-actions align="end">

    <!-- <div class="page__section-buttong" style="flex: 0 1 100px;">
        <button  style="background-color: #f9f9f9;color: #9d3292;">Cancel</button>
    </div>
     &nbsp;&nbsp;&nbsp;--> 
    <div class="page__section-buttong" style="flex: 0 1 100px;">
        <button *ngIf="data.edicion" (click)="save_BD();" >Save </button>
    </div>  
</mat-dialog-actions>