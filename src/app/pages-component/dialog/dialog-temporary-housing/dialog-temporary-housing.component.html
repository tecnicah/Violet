<div fxLayout="row" fxLayoutGap="10px" fxLayoutGap="10px">
  <div fxFlex.gt-lg="100" fxFlex.gt-md="100" fxFlex.gt-xs="100" fxFlex="100">
    <h2 mat-dialog-title class="primary_title">Temporary Housing Coordination</h2>
  </div>
  <div fxFlex.gt-lg="10" fxFlex.gt-md="10" fxFlex.gt-xs="100" fxFlex="100" align="end">
    <mat-icon [mat-dialog-close]="true" style="cursor:pointer">close</mat-icon>
  </div>
</div>

<mat-dialog-content class="mat-typography">

  <mat-grid-list cols="5" rowHeight="80px">
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="page__section-data font-size-12 comments input_central" style="display: flex;">
        <div>
          <span class="text-mini gray_05">Autho</span><br />
          {{ housing_model.authoDate | date:'dd/MMM/yyy' }}
        </div>
        <div style="text-align:end; width: auto !important;">
          <mat-icon class="calendar">calendar_today</mat-icon>
        </div>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="page__section-data font-size-12 comments input_central" style="display: flex;">
        <div *ngIf="housing_model.authoAcceptanceDate != '0001-01-01T00:00:00'">
          <span class="text-mini gray_05">Autho Acceptance</span><br />
          {{ housing_model.authoAcceptanceDate | date:'dd/MMM/yyy' }}
        </div>
        <div *ngIf="housing_model.authoAcceptanceDate == '0001-01-01T00:00:00'">
          <span class="text-mini gray_05">Autho Acceptance Date</span><br />
        </div>
        <div style="text-align:end; width: auto !important;">
          <mat-icon class="calendar">calendar_today</mat-icon>
        </div>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div style="height: 70%; ">
        <p class="subtitle" style="font-size: 8px; margin: 0;">Coordination</p>
        <mat-checkbox disabled class="example-margin textarea" [(ngModel)]="housing_model.coordination">
        </mat-checkbox>
      </div>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="addPropperty" *ngIf="!hide_complete && !hide_by_permissions"> 
        <div class="page__section-button page__section-button--big" style="left: 6px;">
          <button *ngIf="show_completed" class="button-icon button-icon--follow" (click)="change_button()">
            Complete
          </button>
          <button *ngIf="show_progress" class="button-icon button-icon--flag" (click)="change_button()">
            Start
          </button>
        </div>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_final">
        <mat-form-field appearance="fill">
          <mat-label>Status</mat-label>
          <mat-select [(ngModel)]="housing_model.statusId" [disabled]="disabled_by_permissions">
            <mat-option selected disabled value="">Status</mat-option>
            <mat-option *ngFor="let item of status_catalogue" [value]="item.id">{{item.status}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-grid-tile>
  </mat-grid-list>

  <mat-grid-list cols="5" rowHeight="80px">
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="page__section-data font-size-12 comments input_central" style="display: flex;">
        <div>
          <span class="text-mini gray_05">Work Order</span><br />
          {{ wo_ }}
        </div> 
      </div>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="page__section-data font-size-12 comments input_central" style="display: flex;">
        <div>
          <span class="text-mini gray_05">Service #</span><br />
          {{ sr_ }}
        </div> 
      </div>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="2" [rowspan]="1"></mat-grid-tile>
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <!-- <mat-form-field appearance="fill">
          <mat-label>Completion Date</mat-label>
          <input disabled matInput [matDatepicker]="serv_date" [(ngModel)]="housing_model.serviceCompletionDate" />
          <mat-datepicker-toggle matSuffix [for]="serv_date"></mat-datepicker-toggle>
          <mat-datepicker #serv_date></mat-datepicker>
        </mat-form-field> -->

      <div class="page__section-data font-size-12 comments input_final" style="display: flex;">
        <div>
          <span class="text-mini gray_05">Completion</span><br />
          {{ housing_model.serviceCompletionDate | date:'dd MMM yyy' }}
        </div>
        <div style="text-align:end; width: auto !important;">
          <mat-icon class="calendar">calendar_today</mat-icon>
        </div>
      </div>
    </mat-grid-tile>

    <!-- Extension  -->
    <!-- <div *ngIf="dataSource.length > 0">
      <mat-grid-tile [colspan]="4" [rowspan]="1">
        <div>
          <p class="page__section-name">Extensions</p>
        </div>
      </mat-grid-tile>
    </div>-->
  </mat-grid-list>
  <!--<div *ngIf="dataSource.length > 0">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 textarea">
  
      <ng-container matColumnDef="Authorized By">
        <th mat-header-cell *matHeaderCellDef> Authorized By </th>
        <td mat-cell *matCellDef="let element"> {{element.dos}} </td>
      </ng-container>

      <ng-container matColumnDef="Autho Date">
        <th mat-header-cell *matHeaderCellDef> Autho Date </th>
        <td mat-cell *matCellDef="let element"> {{element.tres}} </td>
      </ng-container>

      <ng-container matColumnDef="Autho Acceptance Date">
        <th mat-header-cell *matHeaderCellDef> Autho Acceptance Date </th>
        <td mat-cell *matCellDef="let element"> {{element.cuatro}} </td>
      </ng-container>

      <ng-container matColumnDef="Time">
        <th mat-header-cell *matHeaderCellDef> Time </th>
        <td mat-cell *matCellDef="let element"> {{element.cinco}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <br><br>
  </div> -->
  <!--CLOSE TABLE EXTENSION-->
  <!-------------------------------------------------------------------------------------------------------->


  <!-- service request -->
  <mat-grid-list cols="1">
    <div class="page__section">
      <div class="page__section-name">Service Request</div>
      <div class="page__section-button page__section-button--big"></div>
    </div>
  </mat-grid-list>

  <mat-grid-list cols="4" rowHeight="80px">
    <!-- <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="page__section position-relative">
        <span class="fixed-label subtitle">Property Type</span>
        <div class="page__section-input">
          <mat-checkbox class="example-margin" [(ngModel)]="housing_model.apartment" style="display: flex;">
            <span class="text-mini">Apartment</span>
          </mat-checkbox>
        </div>
        <div class="page__section-input">
          <mat-checkbox class="example-margin" [(ngModel)]="housing_model.house">
            <span class="text-mini">House</span>
          </mat-checkbox>
        </div>
      </div>
    </mat-grid-tile> -->
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central">
        <mat-form-field appearance="fill">
          <mat-label>Property Type</mat-label>
          <mat-select required [(ngModel)]="housing_model.idPropertyType">
            <mat-option *ngFor="let item of caPropertyTypeHousing" [value]="item.id">{{item.propertyType}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Bedrooms</mat-label>
          <mat-select matNativeControl [(ngModel)]="housing_model.bedrooms">
            <mat-option selected disabled value="">Bedrooms</mat-option>
            <mat-option value="1">1</mat-option>
            <mat-option value="2">2</mat-option>
            <mat-option value="3">3</mat-option>
            <mat-option value="4">4</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Bathrooms</mat-label>
          <mat-select matNativeControl [(ngModel)]="housing_model.bathrooms">
            <mat-option selected disabled value="">Bathrooms</mat-option>
            <mat-option value="1">1</mat-option>
            <mat-option value="2">2</mat-option>
            <mat-option value="3">3</mat-option>
            <mat-option value="4">4</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="wid" style="height: 80%;">
        <p class="subtitle" style="font-size: 10px; margin: 0;"> Pet Friendly</p>
        <mat-checkbox class="example-margin" [(ngModel)]="housing_model.petFrindly">
        </mat-checkbox>
      </div>
    </mat-grid-tile>

  </mat-grid-list>

  <mat-grid-list cols="4" rowHeight="80px">

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Start day</mat-label>
          <input matInput [min]="minDate" [matDatepicker]="start_day_date"
            [(ngModel)]="housing_model.totalAllotedDaysStart" />
          <mat-datepicker-toggle matSuffix [for]="start_day_date"></mat-datepicker-toggle>
          <mat-datepicker #start_day_date></mat-datepicker>
        </mat-form-field>
      </div>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>End day</mat-label>
          <input matInput [min]="minDate" [matDatepicker]="end_day_date"
            [(ngModel)]="housing_model.totalAllotedDaysEnd" />
          <mat-datepicker-toggle matSuffix [for]="end_day_date"></mat-datepicker-toggle>
          <mat-datepicker #end_day_date></mat-datepicker>
        </mat-form-field>
      </div>
    </mat-grid-tile>


    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Budget</mat-label>
          <input matInput placeholder="Budget" type="number" [(ngModel)]="housing_model.budget" />
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Currency</mat-label>
          <mat-select matNativeControl [(ngModel)]="housing_model.currency">
            <mat-option selected disabled value="">Currency</mat-option>
            <mat-option *ngFor="let item of currency_catalogue" [value]="item.id">
              {{ item.currency }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-grid-tile>
  </mat-grid-list>

  <mat-grid-list cols="4" rowHeight="80px">

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Payment Responsibility</mat-label>
          <mat-select matNativeControl [(ngModel)]="housing_model.paymentResponsibilty">
            <mat-option selected disabled value="">Payment Responsibility</mat-option>
            <mat-option *ngFor="let item of responsable_catalogue" [value]="item.id">
              {{ item.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="wid" style="height: 80%;">
        <p class="subtitle" style="font-size: 10px; margin: 0;">Client Security Inspection Required</p>
        <mat-checkbox class="example-margin" [(ngModel)]="housing_model.clientSecurityInspectionRequired">
        </mat-checkbox>
      </div>
    </mat-grid-tile>
  </mat-grid-list>

  <div>
    <!-- encabezados housing list -->
    <!-- <mat-grid-list cols="4" rowHeight="70px"> -->
    <!-- <mat-grid-tile [colspan]="1" [rowspan]="1">
        <div class="wid">
          <p class="page__section-name">Housing List</p>
        </div>
      </mat-grid-tile> -->

    <!-- <mat-grid-tile [colspan]="3" [rowspan]="1">
        <div class="addPropperty">
          <div class="page__section-button page__section-button--big" style="left: 6px;">
            <button  [disabled]="user.role.id == 3" class="button-icon button-icon--home" (click)="HousingSpecs()">
              Housing Specs
            </button>
          </div>

          <div class="page__section-button page__section-button--big" style="left: 12px;">
            <button  [disabled]="user.role.id == 3" class="button-icon button-icon--send">
              Send Properties
            </button>
          </div>

          <div class="page__section-button page__section-button--big" style="left: 6px;">
            <button  [disabled]="user.role.id == 3" class="button-icon button-icon--more" (click)="HomeDetailsnew()">
              Add Properties
            </button>
          </div>
        </div>
      </mat-grid-tile> -->
    <!-- </mat-grid-list> -->
    <!-----------------TABLA HOUSING--------------------------->
    <!-- <table mat-table [dataSource]="dataSourceHousing" class="mat-elevation-z8 textarea">

      <ng-container matColumnDef="Supplier Partner">
        <th mat-header-cell *matHeaderCellDef>Supplier Partner</th>
        <td mat-cell *matCellDef="let element"> {{element.supplierCompany}} </td>
      </ng-container>

      <ng-container matColumnDef="Supplier">
        <th mat-header-cell *matHeaderCellDef>Supplier</th>
        <td mat-cell *matCellDef="let element"> {{element.supplier}}</td>
      </ng-container>

      <ng-container matColumnDef="Property No.">
        <th mat-header-cell *matHeaderCellDef>Property No.</th>
        <td mat-cell *matCellDef="let element"> {{element.propertyNo}} </td>
      </ng-container>

      <ng-container matColumnDef="Property Type">
        <th mat-header-cell *matHeaderCellDef> Property Type </th>
        <td mat-cell *matCellDef="let element"> {{element.propertyType}} </td>
      </ng-container>

      <ng-container matColumnDef="Address">
        <th mat-header-cell *matHeaderCellDef> Address </th>
        <td mat-cell *matCellDef="let element">
          {{(element.address.length>10) ?  (element.address | slice:0:10)+'..': element.address}} </td>
      </ng-container>

      <ng-container matColumnDef="Price">
        <th mat-header-cell *matHeaderCellDef> Price </th>
        <td mat-cell *matCellDef="let element"> {{element.price}} </td>
      </ng-container>

      <ng-container matColumnDef="Currency">
        <th mat-header-cell *matHeaderCellDef> Currency </th>
        <td mat-cell *matCellDef="let element"> {{element.currency}} </td>
      </ng-container>

      <ng-container matColumnDef="Status">
        <th mat-header-cell *matHeaderCellDef> Status </th>
        <td mat-cell *matCellDef="let element"> {{element.status}} </td>
      </ng-container>

      <ng-container matColumnDef="Actions">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let element">
          <div [hidden]="user.role.id == 3">
            <img src="assets/icons/pencil.png"  style="width: 20px;" (click)="editHousing(element)">
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumnsHousing"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsHousing;"></tr>
    </table>
    <br><br> -->
  </div>
  <!--TABLE HOUSING CLOSE-->
  <!--END SECTION HOUSING-->
  <!---------------------------------------------------------------------->




  <mat-grid-list cols="1" class="margin-top-min">
    <div class="page__section">
      <div class="page__section-name">Property Selected</div>
      <div class="page__section-button page__section-button--big"></div>
    </div>
  </mat-grid-list>
  <mat-grid-list cols="4" rowHeight="80px">
    <!-- reservation type -->
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Reservation Type</mat-label>
          <mat-select matNativeControl [(ngModel)]="housing_model.reservationType">
            <mat-option selected disabled value="">Reservation Type</mat-option>
            <mat-option *ngFor="let item of reservation_catalogue" [value]="item.id">
              {{ item.reservationType }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-grid-tile>
    <!-- supplier partner -->
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Supplier Partner</mat-label>
          <mat-select [(ngModel)]="housing_model.supplierPartner" (ngModelChange)="_supplier();">
            <mat-option [value]=null>No service provider</mat-option>
            <mat-option *ngFor="let item of services_catalogue" [value]="item.id"> 
              {{item.comercialName}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central">
        <mat-form-field appearance="fill">
          <mat-label>Contact</mat-label>
          <mat-select [(ngModel)]="housing_model.idAdministrativeContact">
            <mat-option [value]=null>No service provider</mat-option>
            <mat-option *ngFor="let item of Supplier" [value]="item.id">
               {{item.contactName}}
              </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-grid-tile>
  </mat-grid-list>

  <mat-grid-list cols="4" rowHeight="80px">
    <!-- property no 
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Property No.</mat-label>
          <input  matInput placeholder="Property No" type="text" [(ngModel)]="housing_model.propertyNo" />
        </mat-form-field>
      </div>
    </mat-grid-tile>-->
    <!-- property address -->
    <mat-grid-tile [colspan]="2" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Property Address</mat-label>
          <input matInput placeholder="Property Address" type="text" [(ngModel)]="housing_model.propertyAddress" />
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Neighborhood </mat-label>
          <input matInput placeholder="Neighborhood" type="text" [(ngModel)]="housing_model.neighborhood" />
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="page__section-data font-size-12 input_final wid">
        <span class="gray_05 cursor-pointer font-purple-dark" (click)="viewHomeDetails()">
          View Home Details
        </span>
      </div>
    </mat-grid-tile>

  </mat-grid-list>

  <mat-grid-list cols="4" rowHeight="80px">

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Reservation Amount</mat-label>
          <input matInput placeholder="Reservation Amount" type="number"
            [(ngModel)]="housing_model.finalReservationAmount" />
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Currency</mat-label>
          <mat-select matNativeControl [(ngModel)]="housing_model.currencyFinalReservationAmount">
            <mat-option selected disabled value="">Currency</mat-option>
            <mat-option *ngFor="let item of currency_catalogue" [value]="item.id">
              {{ item.currency }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Security Deposit</mat-label>
          <input matInput placeholder="Security Deposit" type="number" [(ngModel)]="housing_model.securityDeposit" />
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_final wid">
        <mat-form-field appearance="fill">
          <mat-label>Currency</mat-label>
          <mat-select matNativeControl [(ngModel)]="housing_model.curencySecurityDeposit">
            <mat-option selected disabled value="">Currency</mat-option>
            <mat-option *ngFor="let item of currency_catalogue" [value]="item.id">
              {{ item.currency }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-grid-tile>

  </mat-grid-list>

  <mat-grid-list cols="4" rowHeight="80px">

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Payments Due</mat-label>
          <input matInput placeholder="Payments Due" type="number" [(ngModel)]="housing_model.paymentsDue" />
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Check In Date</mat-label>
          <input matInput [min]="minDate" [matDatepicker]="check_in_date" [(ngModel)]="housing_model.checkIn"
            (dateChange)="getDaysBetweenDatesStaticField( housing_model, ['checkIn','checkOut'], 'total_days_prop_sel' )"
            (change)="getDaysBetweenDatesStaticField( housing_model, ['checkIn','checkOut'], 'total_days_prop_sel' )" />
          <mat-datepicker-toggle matSuffix [for]="check_in_date"></mat-datepicker-toggle>
          <mat-datepicker #check_in_date></mat-datepicker>
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_central wid">
        <mat-form-field appearance="fill">
          <mat-label>Check-Out Date</mat-label>
          <input matInput [min]="minDate" [matDatepicker]="check_out_date" [(ngModel)]="housing_model.checkOut"
            (dateChange)="getDaysBetweenDatesStaticField( housing_model, ['checkIn','checkOut'], 'total_days_prop_sel' )"
            (change)="getDaysBetweenDatesStaticField( housing_model, ['checkIn','checkOut'], 'total_days_prop_sel' )" />
          <mat-datepicker-toggle matSuffix [for]="check_out_date"></mat-datepicker-toggle>
          <mat-datepicker #check_out_date></mat-datepicker>
        </mat-form-field>
      </div>
    </mat-grid-tile>

    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="input_final wid">
        <mat-form-field appearance="fill">
          <mat-label>Total Days</mat-label>
          <input matInput placeholder="Total Days" type="number" id="total_days_prop_sel"
            [(ngModel)]="housing_model.totalDays" />
        </mat-form-field>
      </div>
    </mat-grid-tile>

  </mat-grid-list>

  <!-- <mat-grid-list cols="1">
    <div class="page__section">
      <div class="page__title">
        Extensions
        <br><br>
        <mat-slide-toggle  (change)="toggleStaySection($event)" [checked]='active'></mat-slide-toggle>
      </div>
    </div>
    <div class="page__section" *ngIf="active">
      <div *ngFor="let extention of housing_model.stayExtensionTemporaryHousings, let i = index;"
        class="page__section page__section--card page__section--card--cuadra margin-tb-mini">
        <button class="page__section--card-closeButton"  (click)="deleteExtension(extention, i)"
          *ngIf="extention.id == 0">
        </button>
        <div class="page__section page__section-inputs page__section--nowrap">
          <div class="page__section-input page__section-input--1">
            <div class="input_central">
              <mat-form-field appearance="fill">
                <mat-label>Initial Date</mat-label>
                <input matInput  [min]="minDate" [matDatepicker]="initial_date_stay" [(ngModel)]="extention.initialDate"
                  (dateChange)="getDaysBetweenDatesStaticField( extention, ['initialDate','finalDate'],i )"
                  (change)="getDaysBetweenDatesStaticField( extention, ['initialDate','finalDate'],i )" />
                <mat-datepicker-toggle matSuffix [for]="initial_date_stay"></mat-datepicker-toggle>
                <mat-datepicker #initial_date_stay></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
          <div class="page__section-input page__section-input--1">
            <div class="input_central">
              <mat-form-field appearance="fill">
                <mat-label>Final Date</mat-label>
                <input matInput  [min]="minDate" [matDatepicker]="final_date_stay" [(ngModel)]="extention.finalDate"
                  (dateChange)="getDaysBetweenDatesStaticField( extention, ['initialDate','finalDate'], i )"
                  (change)="getDaysBetweenDatesStaticField( extention, ['initialDate','finalDate'], i )" />
                <mat-datepicker-toggle matSuffix [for]="final_date_stay"></mat-datepicker-toggle>
                <mat-datepicker #final_date_stay></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
          <div class="page__section-input page__section-input--10">
            <div class="input_central">
              <mat-form-field appearance="fill">
                <mat-label>Extra Days</mat-label>
                <input  matInput placeholder="Extra Days" type="number" id="extradays"
                  [(ngModel)]="extention.extraDays" />
              </mat-form-field>
            </div>
          </div>
          <div class="page__section-input page__section-input--10">
            <mat-form-field appearance="fill">
              <mat-label>Total Days</mat-label>
              <input  matInput [(ngModel)]="extention.totalDays" readonly id="{{i}}" placeholder="Days..."
                type="number" />
            </mat-form-field>
          </div>

        </div>
        <div class="page__section page__section-inputs page__section--nowrap">
          <div class="page__section-input page__section-input--x">
            <mat-form-field appearance="fill">
              <mat-label>Comment</mat-label>
              <input matInput  placeholder="Comment" type="text" [(ngModel)]="extention.comment" />
            </mat-form-field>
          </div>
        </div>
      </div>
      <div class="page__section margin-top-mini margin-bottom-m">
        <div class="page__section-name"></div>
        <div class="page__section-button">
          <button (click)="addExtention()"  class="button-icon button-icon--adder">
            Add Extension
          </button>
        </div>
      </div>
    </div>
  </mat-grid-list> -->

  <!-- documentos -->
  <mat-grid-list cols="1">
    <div class="page__section margin-top-min">
      <div class="subtitledos">
        Service Documents
      </div>
      <div *ngIf="housing_model.documentTemporaryHousingCoordinatons.length != 0 || document.length != 0"
        class="page__section">
        <div class="page__section-input page__section-input--6_1">
          <span class="documents__index documents__index--task">
            Document Type
          </span>
        </div>
        <div class="page__section-input page__section-input--6_1">
          <span class="documents__index documents__index--task">

          </span>
        </div>
        <div class="page__section-input page__section-input--6_1">
          <span class="documents__index documents__index--task">
            Expiration Date
          </span>
        </div>
        <div class="page__section-input page__section-input--6_1">
          <span class="documents__index documents__index--task">

          </span>
        </div>
        <div class="page__section-input page__section-input--6_1">
          <span class="documents__index documents__index--task">
            Privacy
          </span>
        </div>
        <div class="page__section-input page__section-input--6_1">
          <span class="documents__index documents__index--task">

          </span>
        </div>
      </div>
      <div class="page__section documents__ascard"
        *ngFor="let item of housing_model.documentTemporaryHousingCoordinatons; let i = index">
        <img src="assets/icons/quit.svg" class="page__section--card-closeButton delete"
          style="background: transparent!important;" (click)="removeDocument(i, item.id)" style="right: 40px;">
        <img src="../../../../assets/icons/eye-view.svg" class="page__section--card-closeButton delete"
          style="background: transparent!important;" (click)="showDocumentDialogDetails(item,1)">
        <div class="page__section-input page__section-input--6_1 documents__ascard--task">
          {{getDocumentTypeName(item.documentType)}}
        </div>
        <div class="page__section-input page__section-input--6_1 documents__ascard--task">

        </div>
        <div class="page__section-input page__section-input--6_1 documents__ascard--task">
          {{item.expirationDate | date:'dd MMM yyy'}}
        </div>
        <div class="page__section-input page__section-input--6_1 documents__ascard--task">

        </div>
        <div class="page__section-input page__section-input--6_1 documents__ascard--task">
          {{getPrivacyName(item.privacy)}}
        </div>
        <div class="page__section-input page__section-input--6_1 documents__ascard--task">

        </div>
      </div>

      <div class="page__section documents__ascard" *ngFor="let item of document; let i = index">
        <img src="assets/icons/quit.svg" class="page__section--card-closeButton delete"
          style="background: transparent!important;" (click)="removeDocument(i, item.id)">
        <div class="page__section-input page__section-input--6_1 documents__ascard--task">
          {{getDocumentTypeName(item.documentType)}}
        </div>
        <div class="page__section-input page__section-input--6_1 documents__ascard--task">

        </div>
        <div class="page__section-input page__section-input--6_1 documents__ascard--task">
          {{item.expirationDate | date:'dd MMM yyy'}}
        </div>
        <div class="page__section-input page__section-input--6_1 documents__ascard--task">

        </div>
        <div class="page__section-input page__section-input--6_1 documents__ascard--task">
          {{getPrivacyName(item.privacy)}}
        </div>
        <div class="page__section-input page__section-input--6_1 documents__ascard--task">

        </div>
      </div>
    </div>
  </mat-grid-list>


  <mat-grid-list cols="4" rowHeight="70px">
    <mat-grid-tile [colspan]="4" [rowspan]="1">
      <div class="addPropperty">
        <div class="page__section-button page__section-button--big"
          style="flex: 0 1 180px !important; left: 6px !important;">
          <button (click)="AddDocument()" class="button-icon button-icon--more">
            Add New Document
          </button>
        </div>
      </div>
    </mat-grid-tile>
  </mat-grid-list>

  <!-- request payment -->
  <mat-grid-list cols="4" rowHeight="70px">
    <mat-grid-tile [colspan]="4" [rowspan]="1">
      <!-- <div class="wid">
        <p class="page__section-name">Requested Payments</p>
      </div> -->
    </mat-grid-tile>
  </mat-grid-list>

  <!--mat-grid-list cols="4" rowHeight="40px">
    <div class="rp_header">
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <span class="browser">Sub Total: {{calculo.ammountSubTotal  | currency}}</span>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <span class="browser">Management Fee: {{calculo.managementFeeSubTotal | currency}}</span>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <span class="browser">Wire Fee: {{calculo.wireFeeSubTotal | currency}}</span>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <span class="browser">Advance Fee: {{calculo.advanceFeeSubTotal | currency}}</span>
      </mat-grid-tile>
    </div>
  </mat-grid-list-->
  <!----------------------------------------------------------------------------------------->
  <!--START TABLE PAYMENT-->
  <!-- <table mat-table [dataSource]="payments" class="mat-elevation-z8 textarea">
    <ng-container matColumnDef="Payment">
      <th mat-header-cell *matHeaderCellDef> Payment </th>
      <td mat-cell *matCellDef="let element">

      </td>
    </ng-container>

   
    <ng-container matColumnDef="Amount">
      <th mat-header-cell *matHeaderCellDef> Amount </th>
      <td mat-cell *matCellDef="let element"> {{element.ammount}} </td>
    </ng-container>

    
    <ng-container matColumnDef="ManagementFee">
      <th mat-header-cell *matHeaderCellDef> Management Fee </th>
      <td mat-cell *matCellDef="let element"> {{element.managementFee}} </td>
    </ng-container>

    <ng-container matColumnDef="WireFee">
      <th mat-header-cell *matHeaderCellDef> Wire Fee </th>
      <td mat-cell *matCellDef="let element" class="text-center">{{element.wireFee}}</td>
    </ng-container>

    <ng-container matColumnDef="AdvanceFee">
      <th mat-header-cell *matHeaderCellDef> Advance Fee </th>
      <td mat-cell *matCellDef="let element"> {{element.advenceFee}} </td>
    </ng-container>

    <ng-container matColumnDef="Service">
      <th mat-header-cell *matHeaderCellDef> Total </th>
      <td mat-cell *matCellDef="let element"> </td>
    </ng-container>

    <ng-container matColumnDef="Recurrence">
      <th mat-header-cell *matHeaderCellDef> Recurrence </th>
      <td mat-cell *matCellDef="let element"> {{element.recurrence}} </td>
    </ng-container>

    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef> </th>
      <td mat-cell *matCellDef="let element">
        <img src="assets\icons\pencil.png"  style="width: 18px; cursor: pointer;" (click)="editPayment(element)">
        <span>&nbsp;</span>
        <img src="assets\icons\delete.png"  style="width: 18px; cursor: pointer;"
          (click)="deletePaymentConcept(element)">
      </td>
    </ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedColumnsPayment"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsPayment;" [ngClass]="{'urgente': row.urgent == true}">
    </tr>
  </table>
  <br><br> -->
  <!--CLOSE TABLE PAYMENT-->
  <mat-grid-list cols="4" rowHeight="30px">
    <mat-grid-tile [colspan]="4" [rowspan]="1">
      <div class="addPropperty">
        <div>
          <div class="acot">
            <div class="dot"></div>&nbsp;Urgent
          </div>
          <!--span class="browser">TOTAL: {{calculo.total | currency}}</span-->
        </div>
        <div class="page__section-butuonc" style="left: 6px;">
          <!-- <button class="button-icon button-icon--money"  (click)="addPayment(null)">Request Payment</button> -->
        </div>
      </div>
    </mat-grid-tile>
  </mat-grid-list>
  <br><br>
  <!----------------------------------------------------------------------------------------->
  <!--
  <mat-grid-list cols="1">
    <div class="page__section margin-top-m margin-bottom-mini">
      <div class="page__section-name">Comments</div>
    </div>
  </mat-grid-list>
  <mat-grid-list cols="1" *ngFor="let comment of housing_model.commentTemporaryHosuings;">
    <div class="page__section">
      <div class="page__section-input--60px">
        <div class="page__section-dataImg">
          <img src="{{ image_path }}{{ comment.user.avatar }}" class="page__section-dataImg-img" />
        </div>
      </div>
      <div class="page__section-input--25">
        <div class="page__section-data font-size-12">
          <span class="text-mini gray_05">Name</span><br />
          {{ comment.user.name }} {{ comment.user.lastName }}
        </div>
      </div>
      <div class="page__section-input--25">
        <div class="page__section-data font-size-12">
          <span class="text-mini gray_05">Title</span><br />
          {{comment.user.userType.type}}
        </div>
      </div>
      <div class="page__section-input--25">
        <div class="page__section-data font-size-12">
          <span class="text-mini gray_05">Reply Date</span><br />
          {{ comment.createdDate | date:'dd MMM yyy' }}
        </div>
      </div>
    </div>
    <div fxLayout="row" fxLayoutGap="10px">
      <div fxFlex.gt-lg="100" fxFlex.gt-md="100" fxFlex.gt-xs="100" fxFlex="100">
        <div class="page__section-input page__section-input--x page__section-input--no-padding">
          <div class="comment">
            {{ comment.reply }}
          </div>
        </div>
      </div>
    </div>
  </mat-grid-list>
  <mat-grid-list cols="1">
    <div class="page__section margin-top-min">
      <div class="page__section-input--60px">
        <div class="page__section-dataImg">
          <img src="{{ image_path + user_data.avatar }}" class="page__section-dataImg-img" />
        </div>
      </div>
      <div class="page__section-input--25">
        <div class="page__section-data font-size-12">
          <span class="text-mini gray_05">Name</span><br />
          {{ user_data.name }} {{ user_data.lastName }}
        </div>
      </div>
      <div class="page__section-input--25">
        <div class="page__section-data font-size-12">
          <span class="text-mini gray_05">Title</span><br />
          {{user_data.userType.type}}
        </div>
      </div>
      <div class="page__section-input--25">
        <div class="page__section-data font-size-12">
          <span class="text-mini gray_05">Reply Date</span><br />
          {{ today_date | date:'dd MMM yyy' }}
        </div>
      </div>
    </div>
  </mat-grid-list>
  <mat-grid-list cols="1">
    <div fxLayout="row" fxLayoutGap="10px">
      <div class="page__section-input no-padding" style="flex: 100%;">
        <p *ngIf="housing_model.commentTemporaryHosuings.length == 0">Comment</p>
        <p *ngIf="housing_model.commentTemporaryHosuings.length != 0">Reply</p>
        <mat-form-field appearance="outline" style="width: 100% !important">
          <textarea matInput id="replay-comment" class="comment-in" [(ngModel)]="comment_string.comment"
            placeholder=""></textarea>
        </mat-form-field>
      </div>
    </div>
  </mat-grid-list>
  <mat-grid-list cols="1">
    <div class="page__section">
      <div class="page__section-name"></div>
      <div class="page__section-button">
        <button (click)="addNewComment()" class="button-icon button-icon--adder">
          <span *ngIf="housing_model.commentTemporaryHosuings.length != 0">Add Reply</span>
          <span *ngIf="housing_model.commentTemporaryHosuings.length == 0">Add Comment</span>
        </button>
      </div>
    </div>
  </mat-grid-list>
-->
  <mat-grid-list cols="10" rowHeight="80px">
    <mat-grid-tile [colspan]="10" [rowspan]="1">
      <div class="wid">
        <p class="page__section-name">Comments</p>
      </div>
    </mat-grid-tile>
  </mat-grid-list>

  <div class="comments" *ngFor="let data of housing_model.commentTemporaryHosuings;; let i = index">
    <mat-grid-list cols="10" rowHeight="80px">

      <mat-grid-tile [colspan]="1" [rowspan]="1">

        <div class="pageAvatarServicio__section pageAvatarServicio__section-inputs no-padding-tbAvatarServicio">
          <div class="pageAvatarServicio__section pageAvatarServicio__section-inputs no-padding-tbAvatarServicio">
            <div class="pageAvatarServicio__section pageAvatarServicio__section-input--x no-padding-tbAvatarServicio">
              <div class="inputAvatarServicio__image">
                <div class="inputAvatarServicio__image-label--card cursor-pointer">
                  <img [src]="_services.url_images+data.user.avatar" *ngIf="data.user.avatar != null">
                  <div class="avatar" style="background: rgba(0, 0, 0, 0.2);" *ngIf="data.user.avatar === null"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </mat-grid-tile>


      <mat-grid-tile [colspan]="2" [rowspan]="1">
        <div class="page__section-data font-size-12" style="display: flex;">
          <div>
            <span class="text-mini gray_05">Name</span><br />
            {{data.user.name}} {{data.user.lastName}} {{data.user.motherLastName}}
          </div>
        </div>
      </mat-grid-tile>

      <mat-grid-tile [colspan]="2" [rowspan]="1">
        <div class="page__section-data font-size-12" style="display: flex;">
          <div>
            <span class="text-mini gray_05">Title</span><br />
            {{data.user.role.role}}
          </div>
        </div>
      </mat-grid-tile>

      <mat-grid-tile [colspan]="2" [rowspan]="1">
        <div class="page__section-data font-size-12" style="display: flex;">
          <div>
            <span class="text-mini gray_05">Date</span><br />
            {{data.createdDate | date:'dd MMM yyy'}}
          </div>

          <div style="text-align:end; width: auto !important;">
            <mat-icon class="calendar">calendar_today</mat-icon>
          </div>
        </div>
      </mat-grid-tile>
    </mat-grid-list>

    <mat-grid-list cols="4" rowHeight="130px">
      <mat-grid-tile [colspan]="4" [rowspan]="1">
        <div class="textarea">
          <mat-form-field appearance="outline" class="textarea" style="width: 100% !important;">
            <textarea placeholder="Write your comment..." matInput (change)="data.reply = $event.target.value"
              [disabled]="data.id > 0" #message maxlength="500">{{data.reply}}</textarea>
            <mat-hint align="end">{{message.value.length}} / 500</mat-hint>
          </mat-form-field>
        </div>
      </mat-grid-tile>
    </mat-grid-list>
  </div>
  <!--END COMMENT-->
  <!---------------------------------------------------------------------------------------------------->
  <mat-grid-list cols="4" rowHeight="70px">
    <mat-grid-tile [colspan]="4" [rowspan]="1">
      <div class="addPropperty">
        <div class="page__section-button page__section-button--big" style="left: 6px;">
          <button *ngIf="housing_model.commentTemporaryHosuings[0].id != 0" (click)="addReply()"
            class="button-icon button-icon--more">
            Add Comment
          </button>
        </div>
      </div>
    </mat-grid-tile>
  </mat-grid-list>


  <mat-grid-list cols="4" rowHeight="50px">
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <div class="page__section margin-top-min">
        <div class="subtitledos">
          Reminders
        </div>
      </div>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="3" [rowspan]="1"></mat-grid-tile>
  </mat-grid-list>
  <!-- <div class="page__section" *ngFor="let reminder of housing_model.reminderTemporaryHousingCoordinatons, index as index;"> -->

  <!-- <div class="page__section page__section--card page__section--card--cuadra margin-tb-mini">
          <button (click)="deleteReminderSelected( reminder, index )" class="page__section--card-closeButton">x
          </button>
          <div class="page__section page__section-inputs page__section--nowrap">
            <div class="page__section-input page__section-input--2">
              <div class="input_central">
                <mat-form-field appearance="fill">
                  <mat-label>Reminder Date</mat-label>
                  <input matInput placeholder="Write reminder description.." [min]="today" [matDatepicker]="service_line_reminder" [(ngModel)]="reminder.reminderDate" />
                  <span class="label-error" *ngIf="reminder.reminderDate == '' || reminder.reminderDate == null">
                    Field is required
                  </span>
                  <mat-datepicker-toggle matSuffix [for]="service_line_reminder"></mat-datepicker-toggle>
                  <mat-datepicker #service_line_reminder></mat-datepicker>
                </mat-form-field>
              </div>
            </div>
            <div class="page__section-input page__section-input--8">
              <mat-form-field appearance="fill">
                <mat-label>Reminder Comments</mat-label>
                <input matInput  placeholder="Service Line" type="text" [(ngModel)]="reminder.reminderComments" />
                <mat-hint align="end">{{message_reminder.value.length}} / 200</mat-hint>
                <span class="label-error" *ngIf="reminder.reminderComments == '' || reminder.reminderComments == null">
                  Field is required
                </span>
              </mat-form-field>
            </div>
          </div>
        </div> -->
  <!-- </div> -->
  <mat-card *ngFor="let data of housing_model.reminderTemporaryHousingCoordinatons; let i = index;">

    <div align="end">
      <img src="assets/icons/quit.svg" class="delete" (click)="deleteReminderSelected( data, i )">
    </div>

    <mat-grid-list cols="4" rowHeight="70px">

      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <div class="input_central wid">
          <mat-form-field appearance="fill">
            <mat-label>Reminder</mat-label>
            <input matInput [min]="today" required [matDatepicker]="pickerocho" placeholder="Reminder Date"
              [(ngModel)]="data.reminderDate">
            <span class="label-error" *ngIf="data.reminderDate == '' || data.reminderDate == null">
              Field is required
            </span>
            <mat-datepicker-toggle matSuffix [for]="pickerocho"></mat-datepicker-toggle>
            <mat-datepicker #pickerocho></mat-datepicker>
          </mat-form-field>
        </div>
      </mat-grid-tile>

      <mat-grid-tile [colspan]="3" [rowspan]="1">
        <div class="input_central wid">
          <mat-form-field appearance="fill">
            <mat-label>Reminder Comments</mat-label>
            <input matInput required placeholder="Reminder Comments" #message_reminder maxlength="199"
              [(ngModel)]="data.reminderComments">
            <mat-hint align="end">{{message_reminder.value.length}} / 200</mat-hint>
            <span class="label-error" *ngIf="data.reminderComments == '' || data.reminderComments == null">
              Field is required
            </span>
          </mat-form-field>
        </div>
      </mat-grid-tile>
    </mat-grid-list>
  </mat-card>

  <mat-grid-list cols="1">
    <div class="page__section margin-top-mini margin-bottom-m">
      <div class="page__section-name"></div>
      <div class="page__section-button">
        <button (click)="addNewReminder()" class="button-icon button-icon--adder">
          Add Reminder
        </button>
      </div>
    </div>
  </mat-grid-list>
  <!--  //////////////////////////////// Service Client Documents //////////////////////////////-->
  <mat-grid-list cols="1" *ngIf="serviceScope != null">
    <div class="page__section margin-top-min">
      <div class="subtitledos">
        Client Service Documents
      </div> <br><br>
      <div class="page__section documents__ascard" *ngIf="serviceScope.documentcountries?.length == 0">
        <div class="page__section-input page__section-input--6_1-local documents__ascard--task">
          No Client Service Documents loaded
        </div>
      </div>
      <div *ngIf="serviceScope.documentcountries?.length != 0" class="page__section">
        <div class="page__section-input page__section-input--6_1-local">
          <span class="documents__index documents__index--task">
            Document Type
          </span>
        </div>
        <div class="page__section-input page__section-input--6_1-local">
          <span class="documents__index documents__index--task">
            Upload
          </span>
        </div>
        <div class="page__section-input page__section-input--6_1-local">
          <span class="documents__index documents__index--task">
            Status
          </span>
        </div>
      </div>
      <div class="page__section documents__ascard" *ngFor="let item of serviceScope.documentcountries">
        <img src="./assets/icons/export.png" class="page__section--card-closeButton delete"
          style="background: transparent!important;" style="right: 40px;"
          (click)="openFileOnWindow(item.fileRequest)">
        <div class="page__section-input page__section-input--6_1-local documents__ascard--task">
          {{item.documentType}}
        </div>
        <div class="page__section-input page__section-input--6_1-local documents__ascard--task">
          {{item.updated_date | date:'dd MMM yyy'}}
        </div>
        <div class="page__section-input page__section-input--6_1-local documents__ascard--task">
          {{item.status}}
        </div>
      </div>
    </div>
  </mat-grid-list>


  <!-- /////////////////////////////// Scope Client Service //////////////////////////////////-->

  <mat-grid-list cols="4" rowHeight="70px">
    <br><br>
    <div class="wid">
      <p class="subtitledos">Client Service Scope</p>
    </div>
    <div *ngIf="serviceScope != null">
      <div *ngIf="serviceScope.scopeDescription.length > 0" [innerHTML]="serviceScope.scopeDescription">
      </div>
    </div>
    
    <mat-grid-tile [colspan]="4" [rowspan]="1" *ngIf="serviceScope != null">
      <div class="textarea" *ngIf="serviceScope.scopeDescription.length < 1">
        Client Service Scope not captured or empty.
      </div>
      <div class="textarea" *ngIf="serviceScope.scopeDescription == null">
        Client Service Scope not captured or empty.
      </div>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="4" [rowspan]="1" *ngIf="!serviceScope">
      <div class="textarea">
        Client Service Scope not captured or empty.
      </div>
    </mat-grid-tile>
  </mat-grid-list>
  <br><br>

</mat-dialog-content>

<mat-dialog-actions align="end">
  <div class="page__section-buttong">
    <button (click)="save_data()">Save</button>
  </div>
</mat-dialog-actions>